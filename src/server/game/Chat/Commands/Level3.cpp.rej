***************
*** 4865,4884 ****
              return false;
      }
  
- 	if (mode == BAN_CHARACTER)
-         announce = "The character '";
-     else if (mode == BAN_IP)
-         announce = "The IP '";
-     else
-     announce = "Account '";
-     announce += nameOrIP.c_str();
-     announce += "' was banned for ";
-     announce += duration;
-     announce += " by the character '";
-     announce += m_session->GetPlayerName();
-     announce += "'. The reason is: ";
-     announce += reason;
-     HandleAnnounceCommand(announce.c_str());
  
      return true;
  }
--- 4876,4898 ----
              return false;
      }
  
+     switch(mode)
+     {
+         default:
+             // Авто анонс о бане аккаунта
+             if (atoi(duration)>0)
+                 HandleBanAccMessege(nameOrIP.c_str(),secsToTimeString(TimeStringToSecs(duration),true).c_str(),m_session->GetPlayerName(),reason);
+             else
+                 HandleBanAccMessege(nameOrIP.c_str(),GetTrinityString(LANG_PERMANENT_MESSAGE),m_session->GetPlayerName(),reason);
+             break;
+         case BAN_IP:
+             // Авто анонс о бане по Ип
+             if (atoi(duration)>0)
+                 HandleBanIPMessege(nameOrIP.c_str(),secsToTimeString(TimeStringToSecs(duration),true).c_str(),m_session->GetPlayerName(),reason);
+             else
+                 HandleBanIPMessege(nameOrIP.c_str(),GetTrinityString(LANG_PERMANENT_MESSAGE),m_session->GetPlayerName(),reason);
+             break;
+     }
  
      return true;
  }
