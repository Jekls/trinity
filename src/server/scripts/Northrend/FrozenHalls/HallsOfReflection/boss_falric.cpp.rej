***************
*** 103,109 ****
  
              events.Update(diff);
  
-             if (me->hasUnitState(UNIT_STAT_CASTING))
                  return;
  
              switch (events.ExecuteEvent())
--- 103,109 ----
  
              events.Update(diff);
  
+             if (me->HasUnitState(UNIT_STAT_CASTING))
                  return;
  
              switch (events.ExecuteEvent())
